{"version":3,"sources":["../app.js"],"names":["express","require","app","fs","path","use","static","get","req","res","carname","params","dirpath","resolve","__dirname","results","readdir","err","colornames","forEach","colorname","o","typenames","readdirSync","typename","images","colors","json","listen","console","log"],"mappings":";;AAAA,IAAIA,UAAQC,QAAQ,SAAR,CAAZ;AACA,IAAIC,MAAIF,SAAR;AACA,IAAIG,KAAGF,QAAQ,IAAR,CAAP;AACA,IAAIG,OAAKH,QAAQ,MAAR,CAAT;AACA;AACAC,IAAIG,GAAJ,CAAQL,QAAQM,MAAR,CAAe,KAAf,CAAR;AACAJ,IAAIK,GAAJ,CAAQ,mBAAR,EAA4B,UAACC,GAAD,EAAKC,GAAL,EAAW;AACnC;AACA,QAAIC,UAAQF,IAAIG,MAAJ,CAAWD,OAAvB;AACA;AACA,QAAIE,UAAQR,KAAKS,OAAL,CAAaC,SAAb,EAAuB,aAAvB,EAAqCJ,OAArC,CAAZ;AACA;AACA,QAAIK,UAAQ,EAAC,QAAOL,OAAR,EAAgB,UAAS,EAAzB,EAAZ;AACA;AACAP,OAAGa,OAAH,CAAWJ,OAAX,EAAmB,UAACK,GAAD,EAAKC,UAAL,EAAkB;AACjCA,mBAAWC,OAAX,CAAmB,UAACC,SAAD,EAAa;AAC5B,gBAAIC,IAAE,EAAN;AACA;AACA,gBAAIC,YAAUnB,GAAGoB,WAAH,CAAenB,KAAKS,OAAL,CAAaD,OAAb,EAAqBQ,SAArB,CAAf,CAAd;AACAE,sBAAUH,OAAV,CAAkB,UAACK,QAAD,EAAY;AAC1B;AACA,oBAAIC,SAAOtB,GAAGoB,WAAH,CAAenB,KAAKS,OAAL,CAAaD,OAAb,EAAqBQ,SAArB,EAA+BI,QAA/B,CAAf,CAAX;AACAH,kBAAEG,QAAF,IAAYC,MAAZ;AACH,aAJD;AAKAV,oBAAQW,MAAR,CAAeN,SAAf,IAA0B,EAAC,SAAQC,CAAT,EAA1B;AACP,SAVG;AAWJZ,YAAIkB,IAAJ,CAASZ,OAAT;AACC,KAbD;AAcH,CAtBD;AAuBAb,IAAI0B,MAAJ,CAAW,IAAX;AACAC,QAAQC,GAAR,CAAY,IAAZ","file":"app.js","sourcesContent":["var express=require(\"express\");\nvar app=express();\nvar fs=require(\"fs\");\nvar path=require(\"path\");\n// 静态化 www文件夹\napp.use(express.static(\"www\"));\napp.get(\"/api/car/:carname\",(req,res)=>{\n    //获取汽车的名字\n    var carname=req.params.carname;\n    //获取完整的路径\n    var dirpath=path.resolve(__dirname,\"www/carpic/\",carname);\n    //接口\n    var results={\"name\":carname,\"colors\":{}};\n    //读取文件夹的所有的文件夹的名字\n    fs.readdir(dirpath,(err,colornames)=>{\n        colornames.forEach((colorname)=>{\n            var o={};\n            //异步的读取中写到同步的读取\n            var typenames=fs.readdirSync(path.resolve(dirpath,colorname));\n            typenames.forEach((typename)=>{\n                //读取图片名字\n                var images=fs.readdirSync(path.resolve(dirpath,colorname,typename));\n                o[typename]=images;\n            });\n            results.colors[colorname]={\"types\":o};\n    })\n    res.json(results)\n    })\n})\napp.listen(3000);\nconsole.log(3000);"]}